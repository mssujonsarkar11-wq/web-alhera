<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>সদস্য নিবন্ধন ফরম</title>

<link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>

<style>
body{
background:linear-gradient(135deg,#064e3b,#7f1d1d);
font-family:'Hind Siliguri',sans-serif;
color:white;
margin:0;
overflow-x:hidden;
}

/* Smooth Fade Animation */
.fade-in{
animation:fadeIn 1s ease-in-out;
}
@keyframes fadeIn{
from{opacity:0;transform:translateY(20px);}
to{opacity:1;transform:translateY(0);}
}

.form-box{
background:rgba(255,255,255,.08);
backdrop-filter:blur(25px);
border-radius:25px;
padding:40px;
box-shadow:0 0 40px rgba(16,185,129,.4);
}

.input-group{position:relative;}

.input-field{
width:100%;
padding:14px 20px 14px 45px;
border-radius:50px;
background:rgba(255,255,255,.15);
border:none;
outline:none;
color:white;
transition:.3s;
}

.input-field::placeholder{color:#ddd;}

.input-field:focus{
box-shadow:0 0 20px rgba(16,185,129,.8);
transform:scale(1.02);
}

select.input-field{
appearance:none;
background:rgba(255,255,255,.15);
color:white;
}

select.input-field option{
background:#064e3b;
color:white;
}

.input-icon{
position:absolute;
left:15px;
top:50%;
transform:translateY(-50%);
color:#10b981;
}

.submit-btn{
background:linear-gradient(135deg,#059669,#10b981);
padding:14px 40px;
border-radius:50px;
font-weight:500;
transition:.3s;
border:none;
cursor:pointer;
}

.submit-btn:hover{
transform:scale(1.08);
box-shadow:0 0 20px #10b981;
}

.error{
color:#ff6b6b;
font-size:14px;
display:none;
margin-top:5px;
}
</style>
</head>

<body>

<section class="py-16 px-4 fade-in">
<h2 class="text-3xl text-center text-emerald-300 mb-8">
সদস্য নিবন্ধন ফরম
</h2>

<div class="max-w-5xl mx-auto form-box">

<form id="membershipForm" class="grid gap-6 md:grid-cols-2">

<div class="input-group">
<i class="fa fa-user input-icon"></i>
<input type="text" name="Name" placeholder="নাম" class="input-field" required>
</div>

<div class="input-group">
<i class="fa fa-user input-icon"></i>
<input type="text" name="FatherName" placeholder="পিতার নাম" class="input-field" required>
</div>

<div class="input-group md:col-span-2">
<i class="fa fa-location-dot input-icon"></i>
<input type="text" name="Address" placeholder="ঠিকানা" class="input-field" required>
</div>

<div class="input-group md:col-span-2">
<i class="fa fa-phone input-icon"></i>
<input type="tel" name="Mobile" id="mobile"
placeholder="মোবাইল নম্বর (01XXXXXXXXX)"
class="input-field" maxlength="11" required>
<p id="mobileError" class="error">সঠিক মোবাইল নম্বর দিন</p>
</div>

<div class="input-group md:col-span-2">
<i class="fa fa-droplet input-icon"></i>
<select name="BloodGroup" class="input-field" required>
<option value="">রক্তের গ্রুপ নির্বাচন করুন</option>
<option value="A+">A+</option>
<option value="A-">A-</option>
<option value="B+">B+</option>
<option value="B-">B-</option>
<option value="O+">O+</option>
<option value="O-">O-</option>
<option value="AB+">AB+</option>
<option value="AB-">AB-</option>
</select>
</div>

<div class="input-group md:col-span-2">
<i class="fa-brands fa-facebook input-icon"></i>
<input type="text"
name="FacebookID"
placeholder="FB ID (ঐচ্ছিক)"
class="input-field">
</div>

<div class="md:col-span-2 text-center mt-4">
<button type="submit" class="submit-btn">
জমা দিন
</button>
</div>

</form>

</div>
</section>

<script>

const scriptURL="https://script.google.com/macros/s/AKfycbycgyVEKHA0p8eKyDYMRoufPD333AMRe7ll_nfZmwq1afrc7S_-nl6Ig9SNti_p5BE3/exec";

const form=document.getElementById("membershipForm");
const mobile=document.getElementById("mobile");
const mobileError=document.getElementById("mobileError");

/* Mobile validation */
mobile.addEventListener("input",function(){
this.value=this.value.replace(/[^0-9]/g,"");
if(!/^01[0-9]{9}$/.test(this.value)){
mobileError.style.display="block";
}else{
mobileError.style.display="none";
}
});

form.addEventListener("submit",function(e){
e.preventDefault();

if(!/^01[0-9]{9}$/.test(mobile.value)){
mobileError.style.display="block";
return;
}

let formData=new FormData(form);

if(!formData.get("FacebookID")){
formData.set("FacebookID","");
}

fetch(scriptURL,{
method:"POST",
body:formData
})
.then(res=>res.json())
.then(()=>{
window.location.href="success.html";   // ✅ Redirect
})
.catch(()=>{
alert("ত্রুটি হয়েছে");
});

});
</script>

</body>
</html>
